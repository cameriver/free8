# Free Eight - Online

オンラインマルチプレイヤーカードゲーム「Free Eight」

🎮 **デモ**: https://freeeight-online-b6d905954038.herokuapp.com

## ゲーム概要

Free Eightは、トランプを使ったオンライン対戦カードゲームです。「クレイジーエイト」系のカードゲームに、麻雀風の勝利宣言（ツモ・ロン）を組み合わせた独自のルールが特徴です。

## ゲームルール

### 基本ルール

1. **目的**: 手札を全て出し切ることを目指す
2. **カードの出し方**: 場のカードと同じ**マーク**または**数字**のカードを出せる
3. **引く**: 出せるカードがない場合、山札から1枚引く

### 特殊カード - 8（エイト）

- **8**はワイルドカードとして、いつでも出すことができる
- 8を出したプレイヤーは、次のマーク（♠/♥/♦/♣）を指定できる
- 他のプレイヤーは指定されたマークのカードを出す必要がある

### 勝利条件

| 勝利タイプ | 説明 | 演出 |
|-----------|------|------|
| **ツモ** | 自分で山札から引いたカードで上がり | 青色アニメーション |
| **ロン** | 他プレイヤーが出したカードで上がり | 赤色アニメーション |
| **ロン返し** | ロン宣言者に対して逆にロンを宣言 | 黄色 + 雷エフェクト |

### 攻撃システム

- 特定の条件で「攻撃」が発生
- 攻撃を受けたプレイヤーは指定枚数のカードを強制的に引く
- `攻撃中 ×N枚！` と表示される

### スコアシステム

- セッション制で複数ラウンドをプレイ
- 各ラウンドの得点が累計される
- 総合スコアによるランキング表示

## 遊び方

### ルームに入室

1. **ルームID**: 自動生成されるか、任意のIDを入力
2. **名前**: プレイヤー名を入力
3. **入室ボタン**: クリックしてルームに参加

### ゲーム開始

1. 参加者全員が「開始(投票)」ボタンをクリック
2. 全員の投票が揃うとゲーム開始

### ゲームプレイ

- **自分のターン**: 出せるカードが光ってハイライト表示される
- **カードを出す**: ハイライトされたカードをクリック
- **カードを引く**: 「Draw」ボタンをクリック
- **8を出した時**: マーク選択ボタンが表示される

### ロン判定

- 他プレイヤーが出したカードで上がれる場合、モーダルが表示
- 5秒以内に「ロンする」または「続行する」を選択
- タイムアウトで自動的に見逃し

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| Frontend | Vanilla JavaScript (IIFE パターン) |
| Backend | Node.js + Socket.IO |
| Hosting | Heroku |
| リアルタイム通信 | WebSocket (Socket.IO) |
| データ永続化 | LocalStorage (クライアントID) |

## 主な機能

- ✅ リアルタイムマルチプレイヤー対戦
- ✅ 自動ルームID生成
- ✅ 開始/リスタート投票システム
- ✅ ロン判定モーダル（5秒カウントダウン）
- ✅ 勝利演出（アニメーション・エフェクト）
- ✅ セッションスコア管理
- ✅ Freeze機能（不正防止）
- ✅ 自動セッション復帰

## UI構成

```
┌─────────────────────────────────────────┐
│  Free Eight                              │
├─────────────────────────────────────────┤
│  ルーム: [room123456]  名前: [Guest]     │
│  [入室] [開始(投票)] [リスタート]         │
├─────────────────────────────────────────┤
│  山札: 32                                │
├─────────────────────────────────────────┤
│  場: [♠A]  攻撃中 ×2枚！                 │
├─────────────────────────────────────────┤
│  Player1: [?][?][?]                      │
│  Player2 (You): [♠K][♥Q][♦J] [Draw]     │
│  Player3: [?][?]                         │
├─────────────────────────────────────────┤
│  総合スコア                              │
│  1位: Player2  +30  130点               │
│  2位: Player1  -10  100点               │
│  3位: Player3  -20   80点               │
└─────────────────────────────────────────┘
```

## ローカル開発

```bash
# 依存関係インストール
npm install

# 開発サーバー起動
npm start

# ブラウザでアクセス
open http://localhost:3000
```

## ライセンス

MIT License

---

© 2024 Free Eight Project
